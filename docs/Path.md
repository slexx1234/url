Slexx\Url\Path
============================================

Оглавление
--------------------------------------------

* [Slexx\Url\Url](https://github.com/slexx1234/url/blob/master/docs/Url.md)
* [Slexx\Url\Host](https://github.com/slexx1234/url/blob/master/docs/Host.md)
* Slexx\Url\Path
* [Slexx\Url\Query](https://github.com/slexx1234/url/blob/master/docs/Query.md)

Методы
--------------------------------------------

### Path->__construct([$path])

**Аргументы:**

| Имя     | Тип      | Описание     |
| ------- | -------- | ------------ |
| `$path` | `string` | Путь запроса |

**Пример:**
```php
$path = new Path('/users/5/remove');
```

### Path->all()

Получение всех частей пути

**Возвращает:** `array`

**Пример:**
```php
$path = new Path('/users/5/remove');
var_dump($path->all());
// -> ['users', '5', 'remove']
```

### Path->count()

Подсщет колличества частей в пути

**Возвращает:** `int`

### Path->getIterator()

Позволяет перебирать переменные в цикле

**Возвращает:** `ArrayIterator`

**Пример:**

```php
$path = new Path('/users/5/remove');
foreach($path as $part) {
    // ...
}
```

### Path->get($index)

Возвращает часть пути по номеру или `null`

**Аргументы:**

| Имя      | Тип   | Описание         |
| -------- | ----- | ---------------- |
| `$index` | `int` | Номер части пути |

**Возвращает:** `string|null`

### Path->has($index)

Проверяет существование части пути по номеру

**Аргументы:**

| Имя      | Тип   | Описание         |
| -------- | ----- | ---------------- |
| `$index` | `int` | Номер части пути |

**Возвращает:** `bool`

### Path->set($index, $value)

Устанавливает часть пути

**Аргументы:**

| Имя      | Тип      | Описание         |
| -------- | -------- | ---------------- |
| `$index` | `int`    | Номер части пути |
| `$value` | `string` | Новая часть пути |

**Возвращает:** `void`

### Path->add($value)

Добовляет новую часть пути

**Аргументы:**

| Имя      | Тип      | Описание         |
| -------- | -------- | ---------------- |
| `$value` | `string` | Новая часть пути |

**Возвращает:** `void`

**Пример:**

```php
$path = new Path('users/5');
$path->add('edit');
var_dump(4path->all()); // -> ['users', '5', 'edit']
```

### Path->remove($index)

Удаляет часть пути по номеру

**Аргументы:**

| Имя      | Тип   | Описание         |
| -------- | ----- | ---------------- |
| `$index` | `int` | Номер части пути |

**Возвращает:** `void`

### Path->match($rule[, $patterns])

Ищет совпадение шаблонов. Синтаксис шаблонов используется вида `[имя переменной]`.

В шаблонах можно использовать паттерны, их имя указывается после имени переменной через двоеточие `[имя переменной:имя паттерна]`. Аналогичным способом вместо имени паттерна можно указать регулярное выражение.

**Список доступных паттернов:**

| Имя    | Регулярное выражение         |
| ------ | ---------------------------- |
| id     | `[1-9][0-9]*`                |
| int    | `-?[1-9][0-9]*`              |
| float  | `-?[1-9][0-9]*\.[0-9]+`      |
| number | `-?[1-9][0-9]*(?:\.[0-9]+)?` |
| alpha  | `[a-z]+`                     |
| slug   | `[a-z0-9_\-]+`               |

**Аргументы:**

| Имя         | Тип      | Описание                           |
| ----------- | -------- | ---------------------------------- |
| `$rule`     | `string` | Правило разбора пути               |
| `$patterns` | `array`  | Подправила для проверки переменных |

**Возвращает:** `array`, `null`

**Пример:**

```php
(new Path('users/5'))
    ->match('/users/[id]');
// -> ['id' => '5']

(new Path('users/lexa'))
    ->match('users/[login:([a-z0-9\-_]+)]');
// -> ['login' => 'lexa']
    
(new Path('users/lexa'))
    ->match('/users/[login]', ['login' => '[a-z0-9\-_]+']);
// -> ['login' => 'lexa']

(new Path('posts/5/comments/34/edit'))
    ->match('/posts/[post:id]/comments/[comment:id]/[action:alpha]');
// -> ['post' => '5', 'comment' => '34', 'action' => 'edit']
```

### Path::pattern($name, $pattern)

Устанавливает новый паттерн или изменяет существующий, для последующего импользования в методе `match`.

**Возвращает:** `void`

**Пример:**

```php
Path::pattern('user', '[1-9][0-9]*');
```

### Path->__toString()

Преобразует объект в строку

**Возвращает:** `string`

**Пример:**

```php
$path = new Path('/users/5');
$path->add('edit');
echo $path; // -> '/users/5/edit'
```

### Path->__clone()

Клонирует объект

**Возвращает:** `Path`

